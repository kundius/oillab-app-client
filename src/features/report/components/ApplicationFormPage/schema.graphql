fragment ReportApplicationFormPageFragment on Report {
  id
  number
  totalMileage
  lubricantMileage
  samplingNodes
  note
  lubricant
  sampledAt
  client {
    id
    organization
    phone
    name
    email
  }
  vehicle {
    id
    model
    stateNumber
    releaseYear
    engineModel
  }
  applicationForm {
    id
    productType
    customer {
      id
      organization
      phone
      name
      email
    }
    vehicleEquipmentManufacturer
    vehicleRegistrationNumber
    vehicleEquipmentModel
    vehicleTotalOperatingTime
    vehicleSamplingPoint
    vehicleTotalOperatingTimeLubricant
    vehicleLiquidVolume
    vehicleToppingUpLubricant
    lubricant {
      id
      model
      brand
      viscosity
    }
    lubricantState
    selectionVolume
    selectionPlace
    note
    createdAt
    updatedAt
  }
}

query ReportApplicationFormPageQuery($id: Int!) {
  report(id: $id) {
    ...ReportApplicationFormPageFragment
  }
  currentUser {
    id
    role
  }
}

mutation ReportApplicationFormPageMutation(
  $id: Int!
  $input: ReportUpdateApplicationFormInput!
) {
  reportUpdateApplicationForm(
    id: $id
    input: $input
  ) {
    success
    record {
      ...ReportApplicationFormPageFragment
    }
    error {
      message
    }
  }
}
